"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[186],{3807:function(e,t,n){n.d(t,{Z:function(){return w}});var r,i=n(4165),a=n(5861),l=n(9439),o=n(9230),s=n(1087),c=n(2791),u=["title","titleId"];function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function p(e,t){var n=e.title,i=e.titleId,a=f(e,u);return c.createElement("svg",d({width:"800px",height:"800px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},a),n?c.createElement("title",{id:i},n):null,r||(r=c.createElement("path",{d:"M5 6.2C5 5.07989 5 4.51984 5.21799 4.09202C5.40973 3.71569 5.71569 3.40973 6.09202 3.21799C6.51984 3 7.07989 3 8.2 3H15.8C16.9201 3 17.4802 3 17.908 3.21799C18.2843 3.40973 18.5903 3.71569 18.782 4.09202C19 4.51984 19 5.07989 19 6.2V21L12 16L5 21V6.2Z",stroke:"#000000",strokeWidth:2,strokeLinejoin:"round"})))}var g=c.forwardRef(p),m=(n.p,n(8788)),h=n(4195),v=n.p+"static/media/no-image.47fbc531b9a02fba1837.webp",b=n(4387),x=n(184),w=function(e){var t=e.cardData,r=e.genres,u=e.link,d=e.user,f=(0,o.$G)().t,p=(0,m.a)().userLoggedIn,w=(0,c.useState)(!1),j=(0,l.Z)(w,2),y=j[0],k=j[1],O=(0,b.Z)(),C=function(e,t){var n=e.find((function(e){return e.id===t.id}));(null===n||void 0===n?void 0:n.id)===t.id?k(!0):k(!1)};(0,c.useEffect)((function(){d&&C(d.watchList,t)}),[t,d]);var L=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){var r,a,l,o,s,c,u,f;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d){e.next=23;break}return e.next=3,(0,h.uo)();case 3:return r=e.sent,a=r.db,e.next=7,Promise.all([n.e(825),n.e(631)]).then(n.bind(n,9631));case 7:return l=e.sent,o=l.doc,s=l.updateDoc,c=o(a,"users",d.docId),u=d.watchList,f=[],f=y?(0,h.FZ)(u,t):(0,h.Ci)(u,t),e.prev=14,e.next=17,s(c,{watchList:f});case 17:C(f,t),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(14),console.log("Error when trying to add movie to watchlist: "+e.t0);case 23:case"end":return e.stop()}}),e,null,[[14,20]])})));return function(){return e.apply(this,arguments)}}();return(0,x.jsxs)("div",{className:"group snap-start relative w-[230px]",children:[p&&(0,x.jsx)("button",{onClick:function(){return L()},className:"\n\t\t\t\t\t\tw-7 h-7 absolute top-5 right-2 bg-gray-static rounded-full justify-center items-center z-10 flex group-hover:flex\n\t\t\t\t\t\t".concat(O?"":"hidden","\n\t\t\t\t\t"),"aria-label":f(""),children:(0,x.jsx)(g,{className:"w-5 h-5",style:y?{}:{fill:"transparent"}})}),(0,x.jsxs)(s.rU,{onClick:function(){return window.scrollTo({top:0})},to:u,children:[(0,x.jsxs)("div",{className:"overflow-hidden rounded-2xl relative w-[230px] aspect-[3/4]",children:[(0,x.jsx)("div",{className:"absolute w-full h-full pointer-events-none bg-black-black-30 -top-full group-hover:top-0 right-0 z-10"}),t.poster_path?(0,x.jsx)("img",{className:"w-full h-full object-cover",loading:"lazy",src:"https://image.tmdb.org/t/p/w300".concat(t.poster_path),alt:t.title+f("movie")}):(0,x.jsx)("img",{className:"w-full h-full object-cover",src:v,alt:t.title+f("movie")})]}),(0,x.jsx)("h4",{className:"font-semibold",children:t.title}),r&&r.map((function(e,n){if(t.genre_ids)return Number(e.id)===t.genre_ids[0]&&(0,x.jsx)("p",{className:"text-xs",children:e.name},e.id+n)}))]})]})}},8514:function(e,t,n){n.d(t,{C:function(){return l}});var r=n(1933),i=n(4195),a=n(8788),l=function(){var e=(0,a.a)().currentUser;return(0,r.useQuery)(["user",e],(function(){return(0,i.hL)(null===e||void 0===e?void 0:e.uid)}),{refetchInterval:1e4})}},4421:function(e,t,n){n.d(t,{F:function(){return l}});var r=n(1933),i=n(7118),a=n(1595),l=function(e){return(0,r.useQuery)(["genresData",e],(function(){return(0,i.Of)((0,a.BQ)(e))}))}},4387:function(e,t,n){var r=n(9439),i=n(2791);t.Z=function(){var e=(0,i.useState)(window.innerWidth<768),t=(0,r.Z)(e,2),n=t[0],a=t[1];return(0,i.useEffect)((function(){var e=function(){a(window.innerWidth<768)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),n}},9596:function(e,t,n){n.r(t),n.d(t,{default:function(){return Z}});var r=n(9439),i=n(1933),a=n(1595),l=function(e,t){var n=(0,a.vw)(1,e,t);return(0,i.useQuery)(["".concat(t),1,e],(function(){return(0,a.nw)(n)}),{refetchOnWindowFocus:!1})},o=n(2791),s=n(4087),c=n(9230),u=n(8825),d=n(5068),f=n(1087),p=n(184),g=function(e){var t=e.heading,n=e.link;return n?(0,p.jsx)(f.rU,{onClick:function(){return window.scrollTo({top:0})},to:n,children:(0,p.jsxs)("div",{className:"text-2xl inline-block mb-2 mx-2",children:[(0,p.jsx)("span",{children:(0,u.t)(t)}),(0,p.jsx)(d.r,{className:"-rotate-90 w-8 h-8 fill-text-default inline"})]})}):(0,p.jsx)("div",{className:"text-2xl inline-block mb-2 mx-2",children:(0,p.jsx)("span",{children:(0,u.t)(t)})})},m=n(3807),h=function(e){var t=e.scrollContainerRef,n=e.films,r=e.user,i=e.genres;return(0,p.jsx)("div",{ref:t,className:"scrollbar overflow-x-auto scroll-smooth scroll-px-2 sm:scroll-px-0 grid grid-flow-col gap-4 snap-x\r auto-cols-mobile sm:auto-cols-sm md:auto-cols-md lg:auto-cols-lg 2xl:auto-cols-xxl",children:n.map((function(e){return(0,p.jsx)(m.Z,{cardData:e,genres:i,link:"movies/".concat(e.id),user:r},e.title)}))})},v=function(e){var t=e.films,n=e.genres,r=e.link,i=e.heading,a=e.user,l=(0,c.$G)().t,u=(0,o.useRef)(null),d=function(e){if(u.current){var t=u.current.getBoundingClientRect().width;u.current.scrollLeft+="left"===e?-t:t}};return(0,p.jsxs)("section",{className:"group/scroll md:px-10 relative",children:[(0,p.jsx)(g,{heading:i,link:r}),(0,p.jsx)("button",{onClick:function(){return d("left")},className:"md:group-hover/scroll:block hidden absolute h-full w-10 top-0 left-0","aria-label":l("slide-left"),children:(0,p.jsx)(s.r,{className:"w-10 h-10 fill-text-default rotate-90"})}),(0,p.jsx)(h,{genres:n,films:t,user:a,scrollContainerRef:u}),(0,p.jsx)("button",{onClick:function(){return d("right")},className:"hidden md:group-hover/scroll:block absolute h-full w-10 top-0 right-0","aria-label":l("slide-right"),children:(0,p.jsx)(s.r,{className:"w-10 h-10 fill-text-default -rotate-90"})})]})},b=function(e){var t=e.movies,n=e.genres,r=e.link,i=e.heading,a=e.loading,l=e.error,o=e.user;return l?(0,p.jsx)("div",{children:"Error fetching data..."}):a?(0,p.jsx)("div",{children:"Loading Scroller..."}):(0,p.jsx)("div",{className:"first:mt-4",children:t&&n&&(null===t||void 0===t?void 0:t.length)>0&&(0,p.jsx)(v,{link:r,heading:i,films:t,genres:n,user:o})})},x=n(8514),w=n(4421),j=function(){var e=(0,c.$G)().i18n,t=(0,o.useState)(e.language),n=(0,r.Z)(t,2),i=n[0],a=n[1],s=(0,w.F)(i).data,u=(0,x.C)().data,d=l(i,"upcoming"),f=d.data,g=d.isError,m=d.isLoading,h=l(i,"top_rated"),v=h.data,j=h.isError,y=h.isLoading,k=l(i,"now_playing"),O=k.data,C=k.isError,L=k.isLoading,N=l(i,"popular"),E=N.data,Z=N.isError,I=[{data:v,heading:"top-rated",loading:y,error:j},{data:f,heading:"upcoming",loading:m,error:g},{data:O,heading:"playing-now",loading:L,error:C},{data:E,heading:"popular",loading:N.isLoading,error:Z}];return(0,o.useEffect)((function(){a(e.language)}),[e.language]),(0,p.jsx)("div",{children:I.map((function(e){var t;return(0,p.jsx)(b,{movies:null===(t=e.data)||void 0===t?void 0:t.results,genres:null===s||void 0===s?void 0:s.genres,heading:e.heading,link:"/",loading:null===e||void 0===e?void 0:e.loading,error:null===e||void 0===e?void 0:e.error,user:u},e.heading)}))})},y=n(4387),k=n(8870),O={clickable:!0,renderBullet:function(e,t){return'<span class="'+t+'"></span>'}},C={delay:1e4,disableOnInteraction:!1},L=n(9705),N=[{title:"Joker",link:"",image:n.p+"static/media/joker.0aea8b22ababf6de8a79.webp",mobileImage:n.p+"static/media/joker-mobile.92ac3d8b285f951fb742.webp"},{title:"John Wick",link:"",image:n.p+"static/media/john-wick.9675194658a5fcbaad80.webp",mobileImage:n.p+"static/media/john-wick-mobile.a697e6e26ea02f79d49b.webp"},{title:"Avatar",link:"",image:n.p+"static/media/avatar.ccdae58b616f09423ae5.webp",mobileImage:n.p+"static/media/avatar-mobile.1c8d79cca16687f61136.webp"},{title:"Pulp Fiction",link:"",image:n.p+"static/media/pulp-fiction.134112062fb201aa6869.webp",mobileImage:n.p+"static/media/pulp-fiction-mobile.9e61fb9d8e0a6dce69b1.webp"}],E=(n(6497),n(4277),function(){var e=(0,c.$G)().t,t=(0,y.Z)();return(0,p.jsx)("div",{className:"h-[100svh]",children:(0,p.jsx)(L.tq,{pagination:O,autoplay:C,modules:[k.tl,k.pt],className:"mySwiper",loop:!0,children:N.map((function(n){return(0,p.jsx)(L.o5,{children:(0,p.jsx)("div",{className:"bg-".concat(n.mobileImage," md:bg-").concat(n.image," bg-center bg-cover w-full h-full block relative"),style:{backgroundImage:"url(".concat(t?n.mobileImage:n.image,")")},children:(0,p.jsx)("div",{className:"absolute bottom-5 left-5",children:(0,p.jsx)(f.rU,{onClick:function(){return window.scrollTo({top:0})},to:n.link,children:(0,p.jsx)("p",{className:"text-3xl md:text-6xl",children:e(n.title)})})})})},n.title)}))})})}),Z=function(){return(0,p.jsxs)("div",{className:"min-h-[100svh] w-full overflow-hidden",children:[(0,p.jsx)(E,{}),(0,p.jsx)(j,{})]})}},5068:function(e,t,n){n.d(t,{r:function(){return c}});var r,i=n(2791),a=["title","titleId"];function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function o(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function s(e,t){var n=e.title,s=e.titleId,c=o(e,a);return i.createElement("svg",l({width:"800px",height:"800px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":s},c),n?i.createElement("title",{id:s},n):null,r||(r=i.createElement("path",{d:"M17.5431 14.2672C17.8288 13.9673 17.8172 13.4926 17.5172 13.2069C17.2173 12.9212 16.7426 12.9328 16.4569 13.2328L17.5431 14.2672ZM11.4569 18.4828C11.1712 18.7827 11.1828 19.2574 11.4828 19.5431C11.7827 19.8288 12.2574 19.8172 12.5431 19.5172L11.4569 18.4828ZM11.4569 19.5172C11.7426 19.8172 12.2173 19.8288 12.5172 19.5431C12.8172 19.2574 12.8288 18.7827 12.5431 18.4828L11.4569 19.5172ZM7.5431 13.2328C7.25744 12.9328 6.78271 12.9212 6.48276 13.2069C6.18281 13.4926 6.17123 13.9673 6.4569 14.2672L7.5431 13.2328ZM11.25 19C11.25 19.4142 11.5858 19.75 12 19.75C12.4142 19.75 12.75 19.4142 12.75 19H11.25ZM12.75 5C12.75 4.58579 12.4142 4.25 12 4.25C11.5858 4.25 11.25 4.58579 11.25 5H12.75ZM16.4569 13.2328L11.4569 18.4828L12.5431 19.5172L17.5431 14.2672L16.4569 13.2328ZM12.5431 18.4828L7.5431 13.2328L6.4569 14.2672L11.4569 19.5172L12.5431 18.4828ZM12.75 19V5H11.25V19H12.75Z"})))}var c=i.forwardRef(s);n.p},4087:function(e,t,n){n.d(t,{r:function(){return c}});var r,i=n(2791),a=["title","titleId"];function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function o(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function s(e,t){var n=e.title,s=e.titleId,c=o(e,a);return i.createElement("svg",l({width:"800px",height:"800px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":s},c),n?i.createElement("title",{id:s},n):null,r||(r=i.createElement("path",{d:"M5.70711 9.71069C5.31658 10.1012 5.31658 10.7344 5.70711 11.1249L10.5993 16.0123C11.3805 16.7927 12.6463 16.7924 13.4271 16.0117L18.3174 11.1213C18.708 10.7308 18.708 10.0976 18.3174 9.70708C17.9269 9.31655 17.2937 9.31655 16.9032 9.70708L12.7176 13.8927C12.3271 14.2833 11.6939 14.2832 11.3034 13.8927L7.12132 9.71069C6.7308 9.32016 6.09763 9.32016 5.70711 9.71069Z"})))}var c=i.forwardRef(s);n.p}}]);
//# sourceMappingURL=186.18bbf40c.chunk.js.map