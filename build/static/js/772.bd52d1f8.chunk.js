"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[772],{7644:function(e,t,n){var r=n(3807),i=n(184);t.Z=function(e){var t=e.movies,n=e.genres,a=e.user;return(0,i.jsx)("div",{className:"gap-2 md:gap-5 sm:gap-4 justify-evenly pt-4 mb-4 grid grid-cols-cards",children:t.map((function(e,t){return(0,i.jsx)(r.Z,{cardData:e,genres:n,link:"../movies/".concat(e.id),user:a},"".concat(t,"-").concat(e.title))}))})}},3807:function(e,t,n){n.d(t,{Z:function(){return b}});var r,i=n(4165),a=n(5861),s=n(9439),o=n(9230),c=n(1087),l=n(2791),u=["title","titleId"];function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function v(e,t){var n=e.title,i=e.titleId,a=f(e,u);return l.createElement("svg",d({width:"800px",height:"800px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},a),n?l.createElement("title",{id:i},n):null,r||(r=l.createElement("path",{d:"M5 6.2C5 5.07989 5 4.51984 5.21799 4.09202C5.40973 3.71569 5.71569 3.40973 6.09202 3.21799C6.51984 3 7.07989 3 8.2 3H15.8C16.9201 3 17.4802 3 17.908 3.21799C18.2843 3.40973 18.5903 3.71569 18.782 4.09202C19 4.51984 19 5.07989 19 6.2V21L12 16L5 21V6.2Z",stroke:"#000000",strokeWidth:2,strokeLinejoin:"round"})))}var h=l.forwardRef(v),p=(n.p,n(8788)),g=n(4195),m=n.p+"static/media/no-image.47fbc531b9a02fba1837.webp",x=n(4387),w=n(184),b=function(e){var t=e.cardData,r=e.genres,u=e.link,d=e.user,f=(0,o.$G)().t,v=(0,p.a)().userLoggedIn,b=(0,l.useState)(!1),j=(0,s.Z)(b,2),y=j[0],k=j[1],C=(0,x.Z)(),N=function(e,t){var n=e.find((function(e){return e.id===t.id}));(null===n||void 0===n?void 0:n.id)===t.id?k(!0):k(!1)};(0,l.useEffect)((function(){d&&N(d.watchList,t)}),[t,d]);var Z=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(){var r,a,s,o,c,l,u,f;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d){e.next=23;break}return e.next=3,(0,g.uo)();case 3:return r=e.sent,a=r.db,e.next=7,Promise.all([n.e(825),n.e(631)]).then(n.bind(n,9631));case 7:return s=e.sent,o=s.doc,c=s.updateDoc,l=o(a,"users",d.docId),u=d.watchList,f=[],f=y?(0,g.FZ)(u,t):(0,g.Ci)(u,t),e.prev=14,e.next=17,c(l,{watchList:f});case 17:N(f,t),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(14),console.log("Error when trying to add movie to watchlist: "+e.t0);case 23:case"end":return e.stop()}}),e,null,[[14,20]])})));return function(){return e.apply(this,arguments)}}();return(0,w.jsxs)("div",{className:"group snap-start relative w-[230px]",children:[v&&(0,w.jsx)("button",{onClick:function(){return Z()},className:"\n\t\t\t\t\t\tw-7 h-7 absolute top-5 right-2 bg-gray-static rounded-full justify-center items-center z-10 flex group-hover:flex\n\t\t\t\t\t\t".concat(C?"":"hidden","\n\t\t\t\t\t"),"aria-label":f(""),children:(0,w.jsx)(h,{className:"w-5 h-5",style:y?{}:{fill:"transparent"}})}),(0,w.jsxs)(c.rU,{onClick:function(){return window.scrollTo({top:0})},to:u,children:[(0,w.jsxs)("div",{className:"overflow-hidden rounded-2xl relative w-[230px] aspect-[3/4]",children:[(0,w.jsx)("div",{className:"absolute w-full h-full pointer-events-none bg-black-black-30 -top-full group-hover:top-0 right-0 z-10"}),t.poster_path?(0,w.jsx)("img",{className:"w-full h-full object-cover",loading:"lazy",src:"https://image.tmdb.org/t/p/w300".concat(t.poster_path),alt:t.title+f("movie")}):(0,w.jsx)("img",{className:"w-full h-full object-cover",src:m,alt:t.title+f("movie")})]}),(0,w.jsx)("h4",{className:"font-semibold",children:t.title}),r&&r.map((function(e,n){if(t.genre_ids)return Number(e.id)===t.genre_ids[0]&&(0,w.jsx)("p",{className:"text-xs",children:e.name},e.id+n)}))]})]})}},8514:function(e,t,n){n.d(t,{C:function(){return s}});var r=n(1933),i=n(4195),a=n(8788),s=function(){var e=(0,a.a)().currentUser;return(0,r.useQuery)(["user",e],(function(){return(0,i.hL)(null===e||void 0===e?void 0:e.uid)}),{refetchInterval:1e4})}},4421:function(e,t,n){n.d(t,{F:function(){return s}});var r=n(1933),i=n(7118),a=n(1595),s=function(e){return(0,r.useQuery)(["genresData",e],(function(){return(0,i.Of)((0,a.BQ)(e))}))}},4387:function(e,t,n){var r=n(9439),i=n(2791);t.Z=function(){var e=(0,i.useState)(window.innerWidth<768),t=(0,r.Z)(e,2),n=t[0],a=t[1];return(0,i.useEffect)((function(){var e=function(){a(window.innerWidth<768)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),n}},5597:function(e,t,n){n.r(t);var r=n(9439),i=n(9230),a=n(2791),s=n(4421),o=n(8514),c=n(7644),l=n(184);t.default=function(){var e=(0,i.$G)(),t=e.t,n=e.i18n,u=(0,a.useState)(n.language),d=(0,r.Z)(u,2),f=d[0],v=d[1],h=(0,o.C)().data,p=(0,s.F)(f).data;return(0,a.useEffect)((function(){v(n.language)}),[n.language]),h?(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"w-[90%] mx-auto",children:[(0,l.jsx)("div",{children:(0,l.jsxs)("h3",{className:"text-4xl mb-4",children:[h.name," ",t("page").toLocaleLowerCase()]})}),(0,l.jsxs)("section",{children:[(0,l.jsx)("h4",{className:"text-2xl mb-2",children:t("yourWatchlist")}),(0,l.jsx)(c.Z,{movies:h.watchList,user:h,genres:null===p||void 0===p?void 0:p.genres})]})]})}):(0,l.jsx)("div",{children:"You should log in..."})}}}]);
//# sourceMappingURL=772.bd52d1f8.chunk.js.map