"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[772],{1595:function(t,e,n){n.d(e,{BQ:function(){return l},IA:function(){return d},nw:function(){return p},ss:function(){return s},vw:function(){return u},w6:function(){return f}});var r=n(4165),a=n(5861),i=n(1243),c="eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIxZWQ0ODJlNGY4ZGM1MGYwY2JjOTliMTUyMGNlZTk0MCIsIm5iZiI6MTczMTY3OTg1NS4zNzQ4OTg0LCJzdWIiOiI2NzMzODBlN2JlZmQ0OWMwYmI2NTg2Y2MiLCJzY29wZXMiOlsiYXBpX3JlYWQiXSwidmVyc2lvbiI6MX0.hes-rcLEPWkGVMJM3VZmbTvlCbP0dxvrHQ3hnzzfJJA",o="https://api.themoviedb.org/3/",u=function(t,e,n){return{method:"GET",url:"".concat(o,"movie/").concat(n),params:{language:e,page:t.toString()},headers:{accept:"application/json",Authorization:"Bearer ".concat(c)}}},s=function(t,e){return{method:"GET",url:"".concat(o,"/trending/movie/day"),params:{language:e,page:t.toString()},headers:{accept:"application/json",Authorization:"Bearer ".concat(c)}}},l=function(t){return{method:"GET",url:"".concat(o,"/genre/movie/list"),params:{language:t},headers:{accept:"application/json",Authorization:"Bearer ".concat(c)}}},d=function(t,e){return{method:"GET",url:"".concat(o,"movie/").concat(t,"/videos"),params:{language:e},headers:{accept:"application/json",Authorization:"Bearer ".concat(c)}}},f=function(t,e,n){return{method:"GET",url:"".concat(o,"search/movie"),params:{query:t,include_adult:"false",language:e,page:n.toString()},headers:{accept:"application/json",Authorization:"Bearer ".concat(c)}}},p=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e){var n;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.Z.request(e);case 3:return n=t.sent,t.abrupt("return",n.data);case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},7644:function(t,e,n){var r=n(3807),a=n(184);e.Z=function(t){var e=t.movies,n=t.genres,i=t.user;return(0,a.jsx)("div",{className:"gap-2 md:gap-5 sm:gap-4 justify-evenly pt-4 mb-4 grid grid-cols-cards",children:e.map((function(t,e){return(0,a.jsx)(r.Z,{cardData:t,genres:n,link:"../movies/".concat(t.id),user:i},"".concat(e,"-").concat(t.title))}))})}},2338:function(t,e,n){var r=n(184);e.Z=function(){return(0,r.jsx)("div",{className:"gap-2 md:gap-5 sm:gap-4 justify-evenly pt-4 mb-4 grid grid-cols-cards",children:Array.from({length:20},(function(t,e){return e})).map((function(t){return(0,r.jsx)("div",{className:"w-[230px] aspect-[3/4]"},t)}))})}},3807:function(t,e,n){n.d(e,{Z:function(){return b}});var r,a=n(4165),i=n(5861),c=n(9439),o=n(9230),u=n(1087),s=n(2791),l=["title","titleId"];function d(){return d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d.apply(this,arguments)}function f(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function p(t,e){var n=t.title,a=t.titleId,i=f(t,l);return s.createElement("svg",d({width:"800px",height:"800px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",ref:e,"aria-labelledby":a},i),n?s.createElement("title",{id:a},n):null,r||(r=s.createElement("path",{d:"M5 6.2C5 5.07989 5 4.51984 5.21799 4.09202C5.40973 3.71569 5.71569 3.40973 6.09202 3.21799C6.51984 3 7.07989 3 8.2 3H15.8C16.9201 3 17.4802 3 17.908 3.21799C18.2843 3.40973 18.5903 3.71569 18.782 4.09202C19 4.51984 19 5.07989 19 6.2V21L12 16L5 21V6.2Z",stroke:"#000000",strokeWidth:2,strokeLinejoin:"round"})))}var h=s.forwardRef(p),v=(n.p,n(8788)),g=n(4195),m=n.p+"static/media/no-image.47fbc531b9a02fba1837.webp",w=n(4387),x=n(184),b=function(t){var e=t.cardData,r=t.genres,l=t.link,d=t.user,f=(0,o.$G)().t,p=(0,v.a)().userLoggedIn,b=(0,s.useState)(!1),j=(0,c.Z)(b,2),Z=j[0],y=j[1],N=(0,w.Z)(),O=function(t,e){var n=t.find((function(t){return t.id===e.id}));(null===n||void 0===n?void 0:n.id)===e.id?y(!0):y(!1)};(0,s.useEffect)((function(){d&&O(d.watchList,e)}),[e,d]);var k=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(){var r,i,c,o,u,s,l,f;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!d){t.next=23;break}return t.next=3,(0,g.uo)();case 3:return r=t.sent,i=r.db,t.next=7,Promise.all([n.e(825),n.e(631)]).then(n.bind(n,9631));case 7:return c=t.sent,o=c.doc,u=c.updateDoc,s=o(i,"users",d.docId),l=d.watchList,f=[],f=Z?(0,g.FZ)(l,e):(0,g.Ci)(l,e),t.prev=14,t.next=17,u(s,{watchList:f});case 17:O(f,e),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(14),console.log("Error when trying to add movie to watchlist: "+t.t0);case 23:case"end":return t.stop()}}),t,null,[[14,20]])})));return function(){return t.apply(this,arguments)}}();return(0,x.jsxs)("div",{className:"group snap-start relative w-[230px]",children:[p&&(0,x.jsx)("button",{onClick:function(){return k()},className:"\n\t\t\t\t\t\tw-7 h-7 absolute top-5 right-2 bg-gray-static rounded-full justify-center items-center z-10 flex group-hover:flex\n\t\t\t\t\t\t".concat(N?"":"hidden","\n\t\t\t\t\t"),"aria-label":f(""),children:(0,x.jsx)(h,{className:"w-5 h-5",style:Z?{}:{fill:"transparent"}})}),(0,x.jsxs)(u.rU,{onClick:function(){return window.scrollTo({top:0})},to:l,children:[(0,x.jsxs)("div",{className:"overflow-hidden rounded-2xl relative w-[230px] aspect-[3/4]",children:[(0,x.jsx)("div",{className:"absolute w-full h-full pointer-events-none bg-black-black-30 -top-full group-hover:top-0 right-0 z-10"}),e.poster_path?(0,x.jsx)("img",{className:"w-full h-full object-cover",loading:"lazy",src:"https://image.tmdb.org/t/p/w300".concat(e.poster_path),alt:e.title+f("movie")}):(0,x.jsx)("img",{className:"w-full h-full object-cover",src:m,alt:e.title+f("movie")})]}),(0,x.jsx)("h4",{className:"font-semibold",children:e.title}),r&&r.map((function(t,n){return e.genre_ids?Number(t.id)===e.genre_ids[0]&&(0,x.jsx)("p",{className:"text-xs",children:t.name},t.id+n):null}))]})]})}},7118:function(t,e,n){n.d(e,{Of:function(){return o},gK:function(){return u},oX:function(){return s}});var r=n(4165),a=n(5861),i=n(1243),c=n(1595),o=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e){var n;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.Z.request(e);case 3:return n=t.sent,t.abrupt("return",n.data);case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),u=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e,n,a){var o,u;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=(0,c.w6)(n,a,e),t.prev=1,t.next=4,i.Z.request(o);case 4:return u=t.sent,t.abrupt("return",u.data);case 8:throw t.prev=8,t.t0=t.catch(1),console.log(t.t0),new Error("Error, failed to fetch data");case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n,r){return t.apply(this,arguments)}}(),s=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e,n){var a,o;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=(0,c.ss)(e,n),t.prev=1,t.next=4,i.Z.request(a);case 4:return o=t.sent,t.abrupt("return",o.data);case 8:throw t.prev=8,t.t0=t.catch(1),console.log(t.t0),new Error("Error, failed to fetch data");case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}()},8514:function(t,e,n){n.d(e,{C:function(){return c}});var r=n(1933),a=n(4195),i=n(8788),c=function(){var t=(0,i.a)().currentUser;return(0,r.useQuery)(["user",t],(function(){return(0,a.hL)(null===t||void 0===t?void 0:t.uid)}),{refetchInterval:1e4})}},4421:function(t,e,n){n.d(e,{F:function(){return c}});var r=n(1933),a=n(7118),i=n(1595),c=function(t){return(0,r.useQuery)(["genresData",t],(function(){return(0,a.Of)((0,i.BQ)(t))}))}},4387:function(t,e,n){var r=n(9439),a=n(2791);e.Z=function(){var t=(0,a.useState)(window.innerWidth<768),e=(0,r.Z)(t,2),n=e[0],i=e[1];return(0,a.useEffect)((function(){var t=function(){i(window.innerWidth<768)};return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[]),n}},5597:function(t,e,n){n.r(e);var r=n(9439),a=n(9230),i=n(2791),c=n(4421),o=n(8514),u=n(7644),s=n(2338),l=n(184);e.default=function(){var t=(0,a.$G)(),e=t.t,n=t.i18n,d=(0,i.useState)(n.language),f=(0,r.Z)(d,2),p=f[0],h=f[1],v=(0,o.C)(),g=v.data,m=v.isLoading,w=(0,c.F)(p).data;return(0,i.useEffect)((function(){h(n.language)}),[n.language]),g?(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"w-[90%] max-w-[1280px] min-w-[320px] mx-auto",children:[(0,l.jsx)("div",{children:(0,l.jsxs)("h3",{className:"text-4xl mb-4",children:[g.name," ",e("page").toLocaleLowerCase()]})}),(0,l.jsxs)("section",{children:[(0,l.jsx)("h4",{className:"text-2xl mb-2",children:e("yourWatchlist")}),m?(0,l.jsx)(s.Z,{}):(0,l.jsx)(u.Z,{movies:g.watchList,user:g,genres:null===w||void 0===w?void 0:w.genres})]})]})}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{children:"You should log in..."}),(0,l.jsx)(s.Z,{})]})}}}]);
//# sourceMappingURL=772.3e0b4e07.chunk.js.map